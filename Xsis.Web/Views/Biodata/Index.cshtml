
@{
    ViewBag.Title = "Index";
}


<div class="table-responsive">
    <table class="table">
        <thead>
            <tr>
                <td>
                    <h4 class="biru">Biodata<button type="button" class="btn btn-link" id="idBtnEditBiodata"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></button></h4>
                </td>
            </tr>
        </thead>
        <tbody id="idTblBodyBiodata"></tbody>
    </table>
</div>

<div class="modal fade" id="idMdlEditBiodata" tabindex="-1" role="dialog" data-keyboard="false" data-backdrop="static">
    <div class="modal-dialog" style="width:850px;" role="document">
        <div class="modal-content">
            <div class="modal-header birubg">
                @*<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>*@
                <h4 class="modal-title">Ubah Biodata</h4>
            </div>
            <div class="modal-body" id="idBodyEditBiodata">
                @*<p>One fine body&hellip;</p>*@
            </div>
            @*<div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary">Save changes</button>
                </div>*@
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->


<script>
    var vDataID = 1;

    $(document).ready(function () {

        var vStrHtml = '';
        $.ajax({
            url: '/Biodata/Tampil',
            data: {ID:vDataID},
            method: 'Get',
            success: function (d) {
                debugger;
                var vDataGender = { false: 'Perempuan', true: 'Laki-laki' };
                a = new Date(parseInt(d.dob.substr(6)));
                vtanggal = (a.getDate() < 10 ? '0' : '') + a.getDate();
                vbulan = a.getMonth() +1;
                var vMonthList =
                    { 1: 'Januari', 2: 'Februari', 3: 'Maret', 4: 'April', 5: 'Mei', 6: 'Juni', 7: 'Juli', 8: 'Agustus', 9: 'September', 10: 'Oktober', 11: 'November', 12: 'Desember' };
                vtahun = a.getFullYear();
                vDataDob = vtanggal + " " + vMonthList[vbulan] + " " + vtahun;

                vStrHtml = vStrHtml +
                '<tr class="birutext">' +
                '<td>Nama Lengkap</td>' +
                '<td>:</td>' +
                '<td input>' + d.fullname + '</td>' +
                '</tr>' +
                '<tr class="birutext">' +
                '<td>Nama Panggilan</td>' +
                '<td>:</td>' +
                '<td input>' + d.nick_name + '</td>' +
                '</tr>' +
                '<tr class="birutext">' +
                '<td>Kontak</td>' +
                '<td>:</td>' +
                '<td input>' + d.email + ' / ' + d.phone_number1 + '</td>' +
                '</tr>' +
                '<tr class="birutext">' +
                '<td>Tempat, Tgl. Lahir</td>' +
                '<td>:</td>' +
                '<td input>' + d.pob + ', ' + vDataDob + '</td>' +
                '</tr>' +
                '<tr class="birutext">' +
                '<td>Jenis Kelamin, Tinggi (cm), Berat (kg)</td>' +
                '<td>:</td>' +
                '<td input>' + vDataGender[d.gender] + ', ' + d.high + ', ' + d.weight + '</td>' +
                '</tr>' +
                '<tr class="birutext">' +
                '<td>Agama</td>' +
                '<td>:</td>' +
                '<td input>' + d.religion_nam + '</td>' +
                '</tr>'+
                '<tr class="birutext">' +
                '<td>Kewarganegaraan, Suku Bangsa</td>' +
                '<td>:</td>' +
                '<td input>' + d.nationality + ', ' + d.ethnic + '</td>' +
                '</tr>'+
                '<tr class="birutext">' +
                '<td>Kegemaran / Hobi</td>' +
                '<td>:</td>' +
                '<td input>' + d.hobby + '</td>' +
                '</tr>'+
                 '<tr class="birutext">' +
                '<td>Jenis & Nomor Identitas</td>' +
                '<td>:</td>' +
                '<td input>' + d.identity_type_name + ', ' + d.identity_no + '</td>' +
                '</tr>'+
                '<tr class="birutext">' +
                '<td>Status & Tahun Pernikahan</td>' +
                '<td>:</td>' +
                '<td input>' + d.marital_status_name + ' - ' + d.mariage_year + '</td>' +
                '</tr>';

                $('#idTblBodyBiodata').append(vStrHtml);
            },
            error: function (d) {
                debugger;
            }
        });

        $('#idBtnEditBiodata').click(function () {
            $.ajax({
                url: '/Biodata/Edit',
                data: { ID: vDataID },
                method: 'Post',
                success: function (mdl) {
                    $('#idBodyEditBiodata').empty();
                    $('#idBodyEditBiodata').append(mdl);
                    $('#idget').val(vDataID); //memasukan nilai vDataID ke dalam idget pada partial view _Edit
                    $('#idMdlEditBiodata').modal('show');
                    debugger;
                },
                error: function (mdl) {
                    debugger;
                }
            });

        });
   

    });
</script>